(this["webpackJsonpjamal-debug-ui"]=this["webpackJsonpjamal-debug-ui"]||[]).push([[0],{112:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(15),c=n.n(r),s=(n(163),n(7)),o=n(247),l=(n(164),n(2)),d=function(e){return e.replaceAll("\n","\xb6\n")},u=function(e){var t=Object(l.jsx)(l.Fragment,{});if(0===e.length)return t;for(var n=e.split("\n"),a=0;a<n.length-1;a++){var i=n[a];t=Object(l.jsxs)(l.Fragment,{children:[t,i,Object(l.jsx)("br",{})]})}return t=Object(l.jsxs)(l.Fragment,{children:[t,n[n.length-1]]})},j=function(e){var t=e.text,n=e.macro,a=void 0===n?"":n,i=t.indexOf(a),r=i+a.length,c=d(-1===i?t:t.substr(0,i)),s=d(-1===i?"":a),j=d(-1===i?"":t.substr(r));return Object(l.jsxs)(o.a,{overflow:"auto",className:"Input_SourceCode",children:[u(c),Object(l.jsx)("div",{className:"red",children:u(s)}),u(j)]})},h=n(92),p=function(e){var t=e.children,n=e.hidden,a=e.id,i=e.other,r=void 0===i?"":i;return Object(l.jsx)("div",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:n,id:a},r),{},{children:t}))},b=(n(112),function(e){var t=e.children,n=e.caption,a=e.reference;return Object(l.jsxs)("div",{className:"SimpleTextInput_Caption",children:[Object(l.jsx)("div",{className:"textbox_caption",children:n}),Object(l.jsx)("textarea",{className:"SimpleTextInput_TextArea",ref:a,children:t})]})}),v=function(e){var t=e.children,n=e.caption,a=(""+t).replaceAll("\n","\xb6\n");return Object(l.jsxs)("div",{className:"SimpleTextInput_Caption",children:[Object(l.jsx)("div",{className:"textbox_caption",children:n}),Object(l.jsx)("textarea",{readOnly:!0,className:"SimpleTextInput_TextArea",value:a})]})},O=n(55),x=n(243),m=n(138),f=n(131),g=n.n(f),y=n(248),w=n(246),N=n(81),S=n.n(N),_=n(82),A=n.n(_),C=n(130),k=n.n(C),L=n(133),D=n.n(L),E=n(134),I=n.n(E),R=n(132),T=n.n(R),F=(n(170),function(e){var t=e.message;return Object(l.jsx)("div",{className:"Label_Label",children:t})}),B=n(242),M=n(200),P=n(127),J=n.n(P),q=n(126),z=n.n(q),H=n(124),U=n.n(H),V=n(125),Q=n.n(V),G=(n(171),function(e){var t=e.message,n=Object(a.useMemo)((function(){switch(t){case"BEFORE":return Object(l.jsx)(U.a,{});case"AFTER":return Object(l.jsx)(Q.a,{});case"DISCONNECTED":return Object(l.jsx)(z.a,{});case"RUN":return Object(l.jsx)(S.a,{});default:return Object(l.jsx)(A.a,{})}}),[t]);return Object(l.jsx)(B.a,{className:"TitleBar",children:Object(l.jsxs)(x.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"space-between",children:[Object(l.jsx)(x.a,{item:!0,children:Object(l.jsx)(J.a,{})}),Object(l.jsx)(x.a,{item:!0,children:Object(l.jsx)(M.a,{variant:"h6",className:"title",children:"Jamal Debug"})}),Object(l.jsx)(x.a,{item:!0,children:n})]})})}),K=n(128),W=n.n(K),X=n(44),Y=n(60),Z=n(66),$=n.n(Z),ee=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8080;Object(X.a)(this,e),this.port=8080,this.host="localhost",this.run=function(e){return n.post("/run",e)},this.step=function(){return n.post("/step")},this.stepInto=function(){return n.post("/stepInto")},this.stepOut=function(){return n.post("/stepOut")},this.quit=function(){return n.post("/quit")},this.execute=function(e){return n.post("/execute",e)},this.level=function(){return n.get("/level")},this.state=function(){return n.get("/state")},this.input=function(){return n.get("/input")},this.inputBefore=function(){return n.get("/inputBefore")},this.output=function(){return n.get("/output")},this.processing=function(){return n.get("/processing")},this.macros=function(){return n.get("/macros")},this.userDefinedMacros=function(){return n.get("/userDefinedMacros")},this.all=function(e){return n.get("/all?"+e)},this.host=t,this.port=a}return Object(Y.a)(e,[{key:"connection",value:function(){return"http://"+this.host+":"+this.port}},{key:"post",value:function(e,t){return $.a.post(this.connection()+e,t)}},{key:"get",value:function(e){return $.a.get(this.connection()+e)}}]),e}(),te=n(45),ne=function e(){var t=this;Object(X.a)(this,e),this.url="https://raw.githubusercontent.com/verhas/jamal/master/version.jim",this.lastRelease="",$.a.get(this.url).then((function(e){var n,a=Object(te.a)((""+e.data).split("\n"));try{for(a.s();!(n=a.n()).done;){var i=n.value;0===i.search(/\{@define\sLAST_RELEASE=(.*)\}/)&&(t.lastRelease=i.substring(22,i.length-1))}}catch(r){a.e(r)}finally{a.f()}}))},ae=n(83),ie=(n(194),function(e){var t,n,a=e.data,i=[],r=0,c=0,s=Object(te.a)((null===a||void 0===a||null===(t=a.macros)||void 0===t?void 0:t.macros)||[]);try{for(s.s();!(n=s.n()).done;){var o=n.value;r++;var d,u=Object(te.a)((null===o||void 0===o?void 0:o.macros)||[]);try{for(u.s();!(d=u.n()).done;){var j=d.value;c++,i.push({id:c,level:r,name:j})}}catch(h){u.e(h)}finally{u.f()}}}catch(h){s.e(h)}finally{s.f()}return Object(l.jsx)("div",{style:{height:"310px",width:"100%",marginTop:"10px"},children:Object(l.jsx)(ae.a,{className:"BuiltInMacrosDisplay",headerHeight:33,rowHeight:33,rows:i,columns:[{field:"id",headerName:"n",width:10},{field:"level",headerName:"L",width:25},{field:"name",headerName:"macro",width:100}],density:"compact",pageSize:i.length,hideFooter:!0})})}),re=(n(195),function(e){var t,n,a=e.data,i=e.captionSetter,r=e.contentSetter,c=[],s=0,o=0,d=Object(te.a)((null===a||void 0===a||null===(t=a.userDefined)||void 0===t?void 0:t.scopes)||[]);try{for(d.s();!(n=d.n()).done;){var u=n.value;s++;var j,h=Object(te.a)(u||[]);try{for(h.s();!(j=h.n()).done;){var p,b,v=j.value;o++,c.push({id:o,level:s,name:v.id,params:null!==(p=null===v||void 0===v||null===(b=v.parameters)||void 0===b?void 0:b.join(","))&&void 0!==p?p:"",content:v.content})}}catch(O){h.e(O)}finally{h.f()}}}catch(O){d.e(O)}finally{d.f()}return Object(l.jsx)("div",{style:{height:"310px",width:"100%",marginTop:"10px"},children:Object(l.jsx)(ae.a,{className:"UserDefinedMacrosDisplay",headerHeight:33,rowHeight:33,rows:c,columns:[{field:"id",headerName:"n",width:10},{field:"level",headerName:"Level",width:25},{field:"name",headerName:"macro",width:100},{field:"params",headerName:"params",width:100},{field:"content",headerName:"content"}],density:"compact",pageSize:c.length,hideFooter:!0,onRowSelected:function(e){var t="{@define "+e.data.name+"("+e.data.params+")="+e.data.content+"}";i("macro definition"),r(t)}})})}),ce=n(87),se=(n(196),new ee("localhost",8080)),oe=W.a.parse(window.location.search.substring(1)),le=new ne,de="";var ue=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),c=Object(s.a)(r,2),o=c[0],d=c[1],u=Object(a.useState)(""),h=Object(s.a)(u,2),f=h[0],N=h[1],_=Object(a.useState)(""),C=Object(s.a)(_,2),L=C[0],E=C[1],R=Object(a.useState)("-"),B=Object(s.a)(R,2),M=B[0],P=B[1],J=Object(a.useState)(""),q=Object(s.a)(J,2),z=q[0],H=q[1],U=Object(a.useState)(""),V=Object(s.a)(U,2),Q=V[0],K=V[1],W=Object(a.useState)("no result"),X=Object(s.a)(W,2),Y=X[0],Z=X[1],$=Object(a.useState)("unknown"),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!0),ue=Object(s.a)(ae,2),je=ue[0],he=ue[1],pe=Object(a.useState)(0),be=Object(s.a)(pe,2),ve=be[0],Oe=be[1],xe=Object(a.useRef)({value:""}),me=Object(a.useRef)({value:""}),fe=oe.port?""+oe.port:new URL(window.location.href).port;se.port=+fe;var ge=Object(a.useCallback)((function(){se.all("level&input&output&inputBefore&processing&macros&userDefined&state&output&version").then((function(e){var t,n,a,r,c,s,o,l,u,j,h,p,b;d(null!==(t=null===(n=e.data)||void 0===n?void 0:n.inputBefore)&&void 0!==t?t:""),N(null!==(a=null===(r=e.data)||void 0===r?void 0:r.processing)&&void 0!==a?a:""),E(null!==(c=null===(s=e.data)||void 0===s?void 0:s.output)&&void 0!==c?c:""),K(null!==(o=null===(l=e.data)||void 0===l?void 0:l.state)&&void 0!==o?o:""),P(null!==(u=null===(j=e.data)||void 0===j?void 0:j.level)&&void 0!==u?u:""),ne(null!==(h=null===(p=e.data)||void 0===p||null===(b=p.version)||void 0===b?void 0:b.version)&&void 0!==h?h:"unknown"),i(e.data)})).catch((function(e){var t;503===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?(K("RUN"),setTimeout(ge,500)):(K("DISCONNECTED"),d(""),N(""),E(""))}))}),[]),ye=function(e){e().then((function(){return ge()}))};""===de&&(de=le.lastRelease),je&&(document.title="Jamal Debugger",he(!1),ge());var we,Ne=function(e){var t=21-e.length+"px";return Object(l.jsx)("div",{style:{marginLeft:t,fontSize:"8pt"},children:e})},Se=Object(l.jsxs)(x.a,{item:!0,children:[Object(l.jsx)(O.a,{variant:"contained",onClick:ge,children:Object(l.jsx)(k.a,{})}),Ne("Refresh")]}),_e=Object(l.jsxs)(x.a,{item:!0,children:[Object(l.jsx)(O.a,{variant:"contained",onClick:function(){var e;return se.execute(""+(null===xe||void 0===xe||null===(e=xe.current)||void 0===e?void 0:e.value)).then((function(e){"object"!=typeof e.data?(0===e.data.length?(H(""),Z("empty evaluation result")):(H(""+e.data),Z("result")),document.title="Jamal Debugger"):(H(""+e.data.trace),Z("error result"),document.title="Jamal Debugger (e)"),ge()}))},color:"primary",children:Object(l.jsx)(g.a,{})}),Ne("Evaluate")]}),Ae=Object(l.jsxs)(x.a,{item:!0,children:[Object(l.jsx)(O.a,{variant:"contained",onClick:function(){return ye(se.quit)},color:"secondary",children:Object(l.jsx)(T.a,{})}),Ne("Quit")]}),Ce=Object(l.jsxs)(x.a,{item:!0,children:[Object(l.jsx)(O.a,{variant:"contained",onClick:function(){var e;return se.run(""+(null===me||void 0===me||null===(e=me.current)||void 0===e?void 0:e.value)).then((function(e){return ge()}))},children:Object(l.jsx)(S.a,{})}),Ne("Run")]}),ke=Object(l.jsxs)(x.a,{item:!0,children:[Object(l.jsx)(O.a,{variant:"contained",onClick:function(){return ye(se.step)},children:Object(l.jsx)(A.a,{})}),Ne("Step")]}),Le=Object(l.jsxs)(x.a,{item:!0,children:[Object(l.jsx)(O.a,{variant:"contained",onClick:function(){return ye(se.stepInto)},children:Object(l.jsx)(D.a,{})}),Ne("Step In")]}),De=Object(l.jsxs)(x.a,{item:!0,children:[Object(l.jsx)(O.a,{variant:"contained",onClick:function(){return ye(se.stepOut)},children:Object(l.jsx)(I.a,{})}),Ne("Step Out")]}),Ee=Object(l.jsx)(x.a,{container:!0,direction:"column",children:Object(l.jsxs)(x.a,{container:!0,direction:"row",justify:"space-around",alignContent:"center",children:[Se," ",Ce," ",ke," ",Le,De]})}),Ie=Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(x.a,{item:!0,children:Object(l.jsx)(F,{message:""+M})})}),Re=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x.a,{item:!0,xs:6,children:Ee}),Object(l.jsx)(x.a,{item:!0,xs:3,children:Ie}),Object(l.jsxs)(x.a,{container:!0,direction:"row",xs:3,justify:"space-around",alignItems:"flex-end",alignContent:"flex-end",children:[_e,Ae]})]}),Te=Object(l.jsx)(m.a,{className:"App_Paper, App_MacroList",children:Object(l.jsx)(ie,{data:n})}),Fe=Object(l.jsx)(m.a,{className:"App_Paper, App_MacroList",children:Object(l.jsx)(re,{data:n,captionSetter:Z,contentSetter:H})}),Be=Object(l.jsx)(x.a,{item:!0,xs:6,children:Object(l.jsxs)(m.a,{className:"App_Paper, run_input",children:[Object(l.jsx)("div",{style:{marginLeft:"30px",fontSize:"12pt"},children:"input"}),Object(l.jsx)(j,{text:o,macro:f})]})}),Me=Object(l.jsx)(x.a,{item:!0,xs:6,children:Object(l.jsxs)(m.a,{className:"App_Paper",children:[Object(l.jsx)("div",{style:{marginLeft:"30px",fontSize:"12pt"},children:"output"}),Object(l.jsx)(j,{text:L})]})}),Pe=Object(l.jsx)(m.a,{className:"App_Paper, App_Eval",children:Object(l.jsx)(b,{caption:"evaluate",reference:xe,children:""})}),Je=Object(l.jsx)(m.a,{className:"App_Paper, App_Eval",children:Object(l.jsx)(b,{caption:"breakpoints",reference:me,children:""})}),qe=Object(l.jsx)(x.a,{item:!0,xs:6,children:Object(l.jsx)(m.a,{className:"App_Paper, App_Eval",children:Object(l.jsx)(v,{caption:Y,children:z})})});return we=te===ce.version?"Version: "+te:"Server version: "+te+", Client version: "+ce.version,""==de||de==te&&de==ce.version||(we+=", Latest release: "+de),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("header",{className:"App-header",children:[Object(l.jsx)(x.a,{container:!0,direction:"row",children:Object(l.jsx)(G,{message:Q})}),Object(l.jsx)(x.a,{container:!0,direction:"row",children:Re}),Object(l.jsxs)(x.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:[Be,Object(l.jsxs)(x.a,{item:!0,xs:6,children:[Object(l.jsxs)(y.a,{value:ve,onChange:function(e,t){Oe(t)},className:"tab_panel",centered:!0,indicatorColor:"secondary",children:[Object(l.jsx)(w.a,{value:0,label:"built-in macros"}),Object(l.jsx)(w.a,{value:1,label:"user defined"}),Object(l.jsx)(w.a,{value:2,label:"evaluate"}),Object(l.jsx)(w.a,{value:3,label:"breakpoints"})]}),Object(l.jsx)(p,{id:"0",hidden:0!==ve,other:"",children:Te}),Object(l.jsx)(p,{id:"1",hidden:1!==ve,other:"",children:Fe}),Object(l.jsx)(p,{id:"2",hidden:2!==ve,other:"",children:Pe}),Object(l.jsx)(p,{id:"3",hidden:3!==ve,other:"",children:Je})]})]}),Object(l.jsxs)(x.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:[Me,qe]}),Object(l.jsx)(x.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:Object(l.jsx)(x.a,{item:!0,xs:12,children:Object(l.jsxs)("div",{className:"App_LicenseLine",children:["Peter Verhas 2021, Apache License 2.0, ",Object(l.jsx)("a",{href:"https://github.com/verhas/jamal",children:"https://github.com/verhas/jamal"}),", "+we]})})})]})})};c.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(ue,{})}),document.getElementById("root"))},87:function(e){e.exports=JSON.parse('{"name":"jamal-debug-ui","version":"1.7.8","private":true,"dependencies":{"@material-ui/core":"^4.11.3","@material-ui/data-grid":"*","@material-ui/icons":"^4.11.2","@material/tab-bar":"^11.0.0","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.3","@types/jest":"^26.0.21","@types/node":"^12.20.6","@types/react":"^17.0.3","@types/react-dom":"^17.0.2","axios":"^0.21.1","material-design-icons":"^3.0.1","qs":"^6.5.2","query-string":"^4.3.4","react":"^17.0.1","react-dom":"^17.0.1","react-scripts":"4.0.3","typescript":"^4.2.3","web-vitals":"^1.1.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')}},[[197,1,2]]]);
//# sourceMappingURL=main.9932e25b.chunk.js.map