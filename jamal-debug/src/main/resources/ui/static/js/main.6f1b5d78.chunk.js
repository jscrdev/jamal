(this["webpackJsonpjamal-debug-ui"]=this["webpackJsonpjamal-debug-ui"]||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},175:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),s=n.n(i),c=(n(168),n(252)),o=(n(169),n(3)),l=function(e){return e.replaceAll("\n","\xb6\n")},u=function(e){var t=Object(o.jsx)(o.Fragment,{});if(0===e.length)return t;for(var n=e.split("\n"),a=0;a<n.length-1;a++){var r=n[a];t=Object(o.jsxs)(o.Fragment,{children:[t,r,Object(o.jsx)("br",{})]})}return t=Object(o.jsxs)(o.Fragment,{children:[t,n[n.length-1]]})},d=function(e){var t=e.text,n=e.macro,a=void 0===n?"":n,r=t.indexOf(a),i=r+a.length,s=l(-1===r?t:t.substr(0,r)),d=l(-1===r?"":a),j=l(-1===r?"":t.substr(i));return Object(o.jsxs)(c.a,{overflow:"auto",className:"Input_SourceCode",children:[u(s),Object(o.jsx)("div",{className:"red",children:u(d)}),u(j)]})},j=n(92),p=function(e){var t=e.children,n=e.hidden,a=e.id,r=e.other,i=void 0===r?"":r;return Object(o.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:n,id:a},i),{},{children:t}))},h=(n(112),function(e){var t=e.children,n=e.caption,a=e.reference;return Object(o.jsxs)("div",{className:"SimpleTextInput_Caption",children:[Object(o.jsx)("div",{className:"textbox_caption",children:n}),Object(o.jsx)("textarea",{className:"SimpleTextInput_TextArea",ref:a,children:t})]})}),v=function(e){var t=e.children,n=e.caption,a=(""+t).replaceAll("\n","\xb6\n");return Object(o.jsxs)("div",{className:"SimpleTextInput_Caption",children:[Object(o.jsx)("div",{className:"textbox_caption",children:n}),Object(o.jsx)("textarea",{readOnly:!0,className:"SimpleTextInput_TextArea",value:a})]})},b=n(248),f=n(143),x=n(138),m=n.n(x),O=n(253),g=n(251),y=n(80),w=n.n(y),N=n(81),S=n.n(N),C=n(135),A=n.n(C),_=n(136),T=n.n(_),R=n(137),E=n.n(R),I=n(139),L=n.n(I),D=(n(113),function(e){var t=e.message;return Object(o.jsx)("div",{className:"Label_Label",children:t})}),k=n(247),M=n(204),B=n(132),P=n.n(B),F=n(131),V=n.n(F),J=n(129),q=n.n(J),z=n(130),H=n.n(z),U=(n(175),function(e){var t=e.message,n=Object(a.useMemo)((function(){switch(t){case"BEFORE":return Object(o.jsx)(q.a,{});case"AFTER":return Object(o.jsx)(H.a,{});case"DISCONNECTED":return Object(o.jsx)(V.a,{});case"RUN":return Object(o.jsx)(w.a,{});default:return Object(o.jsx)(S.a,{})}}),[t]);return Object(o.jsx)(k.a,{className:"TitleBar",children:Object(o.jsxs)(b.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"space-between",children:[Object(o.jsx)(b.a,{item:!0,children:Object(o.jsx)(P.a,{})}),Object(o.jsx)(b.a,{item:!0,children:Object(o.jsx)(M.a,{variant:"h6",className:"title",children:"Jamal Debug"})}),Object(o.jsx)(b.a,{item:!0,children:n})]})})}),Q=n(44),G=n(45),K=n(65),W=n.n(K),X=n(86),Y=n(8),Z={},$=function(e){var t=a.useState;for(var n in e){var r=t(e[n]),i=Object(Y.a)(r,2);Z[n]=i[0],Z["set"+n.charAt(0).toUpperCase()+n.slice(1)]=i[1]}return Z},ee=new function e(){var t=this;Object(G.a)(this,e),this.url="https://raw.githubusercontent.com/verhas/jamal/master/version.jim",this.lastRelease="",W.a.get(this.url).then((function(e){var n,a=Object(Q.a)((""+e.data).split("\n"));try{for(a.s();!(n=a.n()).done;){var r=n.value;0===r.search(/{@define\sLAST_RELEASE=(.*)}/)&&(t.lastRelease=r.substring(22,r.length-1))}}catch(i){a.e(i)}finally{a.f()}}))},te=function(){var e;return e=Z.serverVersion===X.version?"Version: "+Z.serverVersion:"Server version: "+Z.serverVersion+", Client version: "+X.version,""===ee.lastRelease||ee.lastRelease===Z.serverVersion&&ee.lastRelease===X.version||(e+=", Latest release: "+ee.lastRelease),e},ne=n(82),ae=(n(196),function(e){var t,n,a=e.data,r=[],i=0,s=0,c=Object(Q.a)((null===a||void 0===a||null===(t=a.macros)||void 0===t?void 0:t.macros)||[]);try{for(c.s();!(n=c.n()).done;){var l=n.value;i++;var u,d=Object(Q.a)((null===l||void 0===l?void 0:l.macros)||[]);try{for(d.s();!(u=d.n()).done;){var j=u.value;s++,r.push({id:s,level:i,name:j})}}catch(p){d.e(p)}finally{d.f()}}}catch(p){c.e(p)}finally{c.f()}return Object(o.jsx)("div",{style:{height:"310px",width:"100%",marginTop:"10px"},children:Object(o.jsx)(ne.a,{className:"BuiltInMacrosDisplay",headerHeight:33,rowHeight:33,rows:r,columns:[{field:"id",headerName:"n",width:10},{field:"level",headerName:"L",width:25},{field:"name",headerName:"macro",width:100}],density:"compact",pageSize:r.length,hideFooter:!0})})}),re=(n(197),function(e){var t,n,a=e.data,r=e.captionSetter,i=e.contentSetter,s=[],c=0,l=0,u=Object(Q.a)((null===a||void 0===a||null===(t=a.userDefined)||void 0===t?void 0:t.scopes)||[]);try{for(u.s();!(n=u.n()).done;){var d=n.value;c++;var j,p=Object(Q.a)(d||[]);try{for(p.s();!(j=p.n()).done;){var h,v,b=j.value;l++,s.push({id:l,level:c,name:b.id,params:null!==(h=null===b||void 0===b||null===(v=b.parameters)||void 0===v?void 0:v.join(","))&&void 0!==h?h:"",content:b.content})}}catch(f){p.e(f)}finally{p.f()}}}catch(f){u.e(f)}finally{u.f()}return Object(o.jsx)("div",{style:{height:"310px",width:"100%",marginTop:"10px"},children:Object(o.jsx)(ne.a,{className:"UserDefinedMacrosDisplay",headerHeight:33,rowHeight:33,rows:s,columns:[{field:"id",headerName:"n",width:10},{field:"level",headerName:"Level",width:25},{field:"name",headerName:"macro",width:100},{field:"params",headerName:"params",width:100},{field:"content",headerName:"content"}],density:"compact",pageSize:s.length,hideFooter:!0,onRowSelected:function(e){var t="{@define "+e.data.name+"("+e.data.params+")="+e.data.content+"}";r("macro definition"),i(t)}})})}),ie=n(134),se=n.n(ie),ce=new function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8080;Object(G.a)(this,e),this.port=8080,this.host="localhost",this.connection=function(){return"http://"+n.host+":"+n.port},this.post=function(e,t){return W.a.post(n.connection()+e,t)},this.get=function(e){return W.a.get(n.connection()+e)},this.run=function(e){return n.post("/run",e)},this.step=function(){return n.post("/step")},this.stepInto=function(){return n.post("/stepInto")},this.stepOut=function(){return n.post("/stepOut")},this.quit=function(){return n.post("/quit")},this.execute=function(e){return n.post("/execute",e)},this.level=function(){return n.get("/level")},this.state=function(){return n.get("/state")},this.input=function(){return n.get("/input")},this.inputBefore=function(){return n.get("/inputBefore")},this.output=function(){return n.get("/output")},this.processing=function(){return n.get("/processing")},this.macros=function(){return n.get("/macros")},this.userDefinedMacros=function(){return n.get("/userDefinedMacros")},this.all=function(e){return n.get("/all?"+e)},this.host=t,this.port=a}("localhost",8080),oe=se.a.parse(window.location.search.substring(1)),le=oe.port?""+oe.port:new URL(window.location.href).port;ce.port=+le;var ue=ce,de=function e(t){ue.all("level&input&output&inputBefore&processing&macros&userDefined&state&output&version").then((function(e){var n,a,r,i,s,c,o,l,u,d,j,p,h;t.setInputBefore(null!==(n=null===(a=e.data)||void 0===a?void 0:a.inputBefore)&&void 0!==n?n:""),t.setMacro(null!==(r=null===(i=e.data)||void 0===i?void 0:i.processing)&&void 0!==r?r:""),t.setOutput(null!==(s=null===(c=e.data)||void 0===c?void 0:c.output)&&void 0!==s?s:""),t.setStateMessage(null!==(o=null===(l=e.data)||void 0===l?void 0:l.state)&&void 0!==o?o:""),t.setLevel(null!==(u=null===(d=e.data)||void 0===d?void 0:d.level)&&void 0!==u?u:""),t.setServerVersion(null!==(j=null===(p=e.data)||void 0===p||null===(h=p.version)||void 0===h?void 0:h.version)&&void 0!==j?j:"unknown"),t.setData(e.data)})).catch((function(n){var a;503===(null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status)?(t.setStateMessage("RUN"),setTimeout((function(){return e(t)}),500)):(t.setStateMessage("DISCONNECTED"),t.setInputBefore(""),t.setMacro(""),t.setOutput(""))}))},je=function(e){e().then((function(){return de(Z)}))},pe=function(){return je(ue.step)},he=function(){return je(ue.stepInto)},ve=function(){return je(ue.stepOut)},be=function(){return je(ue.quit)},fe=n(55),xe=function(e){var t=e.onClick,n=e.caption,a=e.color,r=void 0===a?"default":a,i=e.children,s=21-n.length+"px";return Object(o.jsxs)(b.a,{item:!0,children:[Object(o.jsx)(fe.a,{variant:"contained",onClick:t,color:r,children:i}),Object(o.jsx)("div",{style:{marginLeft:s,fontSize:"8pt"},children:n})]})},me=(n(200),function(){$({data:{},inputBefore:"",macro:"",output:"",level:"-",evalOutput:"",stateMessage:"",resultCaption:"no result",serverVersion:"unknown",currentTabStop:0}),Object(a.useEffect)((function(){document.title="Jamal Debugger",de(Z)}),[]);var e=Object(a.useRef)({value:""}),t=Object(a.useRef)({value:""}),n=Object(o.jsx)(b.a,{container:!0,direction:"column",children:Object(o.jsxs)(b.a,{container:!0,direction:"row",justify:"space-around",alignContent:"center",children:[Object(o.jsx)(xe,{onClick:de,caption:"Refresh",children:Object(o.jsx)(A.a,{})}),Object(o.jsx)(xe,{onClick:function(){return function(e){var t;return ue.run(""+(null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.value)).then((function(){return de(Z)}))}(t)},caption:"Run",children:Object(o.jsx)(w.a,{})}),Object(o.jsx)(xe,{onClick:pe,caption:"Step",children:Object(o.jsx)(S.a,{})}),Object(o.jsx)(xe,{onClick:he,caption:"Step In",children:Object(o.jsx)(T.a,{})}),Object(o.jsx)(xe,{onClick:ve,caption:"Step out",children:Object(o.jsx)(E.a,{})})]})}),r=Object(o.jsx)(b.a,{item:!0,children:Object(o.jsx)(D,{message:""+Z.level})}),i=Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(b.a,{item:!0,xs:6,children:n}),Object(o.jsx)(b.a,{item:!0,xs:3,children:r}),Object(o.jsxs)(b.a,{container:!0,direction:"row",xs:3,justify:"space-around",alignItems:"flex-end",alignContent:"flex-end",children:[Object(o.jsx)(xe,{onClick:function(){return function(e){var t;return ue.execute(""+(null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.value)).then((function(e){var t,n;"object"!=typeof e.data?(0===e.data.length?(Z.setEvalOutput(""),Z.setResultCaption("empty evaluation result")):(Z.setEvalOutput(""+e.data),Z.setResultCaption("result")),document.title="Jamal Debugger"):(Z.setEvalOutput((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)+"\n"+(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.trace)),Z.setResultCaption("error result"),document.title="Jamal Debugger (e)"),de(Z)}))}(e)},color:"primary",caption:"Evaluate",children:Object(o.jsx)(m.a,{})}),Object(o.jsx)(xe,{onClick:be,caption:"Quit",color:"secondary",children:Object(o.jsx)(L.a,{})})]})]}),s=Object(o.jsx)(f.a,{className:"App_Paper, App_MacroList",children:Object(o.jsx)(ae,{data:Z.data})}),c=Object(o.jsx)(f.a,{className:"App_Paper, App_MacroList",children:Object(o.jsx)(re,{data:Z.data,captionSetter:Z.setResultCaption,contentSetter:Z.setEvalOutput})}),l=Object(o.jsx)(b.a,{item:!0,xs:6,children:Object(o.jsxs)(f.a,{className:"App_Paper, run_input",children:[Object(o.jsx)("div",{style:{marginLeft:"30px",fontSize:"12pt"},children:"input"}),Object(o.jsx)(d,{text:Z.inputBefore,macro:Z.macro})]})}),u=Object(o.jsx)(b.a,{item:!0,xs:6,children:Object(o.jsxs)(f.a,{className:"App_Paper",children:[Object(o.jsx)("div",{style:{marginLeft:"30px",fontSize:"12pt"},children:"output"}),Object(o.jsx)(d,{text:Z.output})]})}),j=Object(o.jsx)(f.a,{className:"App_Paper, App_Eval",children:Object(o.jsx)(h,{caption:"evaluate",reference:e,children:""})}),x=Object(o.jsx)(f.a,{className:"App_Paper, App_Eval",children:Object(o.jsx)(h,{caption:"breakpoints",reference:t,children:""})}),y=Object(o.jsx)(b.a,{item:!0,xs:6,children:Object(o.jsx)(f.a,{className:"App_Paper, App_Eval",children:Object(o.jsx)(v,{caption:Z.resultCaption,children:Z.evalOutput})})}),N=te();return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)("header",{className:"App-header",children:[Object(o.jsx)(b.a,{container:!0,direction:"row",children:Object(o.jsx)(U,{message:Z.stateMessage})}),Object(o.jsx)(b.a,{container:!0,direction:"row",children:i}),Object(o.jsxs)(b.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:[l,Object(o.jsxs)(b.a,{item:!0,xs:6,children:[Object(o.jsxs)(O.a,{value:Z.currentTabStop,onChange:function(e,t){Z.setCurrentTabStop(t)},className:"tab_panel",centered:!0,indicatorColor:"secondary",children:[Object(o.jsx)(g.a,{value:0,label:"built-in macros"}),Object(o.jsx)(g.a,{value:1,label:"user defined"}),Object(o.jsx)(g.a,{value:2,label:"evaluate"}),Object(o.jsx)(g.a,{value:3,label:"breakpoints"})]}),Object(o.jsx)(p,{id:"0",hidden:0!==Z.currentTabStop,other:"",children:s}),Object(o.jsx)(p,{id:"1",hidden:1!==Z.currentTabStop,other:"",children:c}),Object(o.jsx)(p,{id:"2",hidden:2!==Z.currentTabStop,other:"",children:j}),Object(o.jsx)(p,{id:"3",hidden:3!==Z.currentTabStop,other:"",children:x})]})]}),Object(o.jsxs)(b.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:[u,y]}),Object(o.jsx)(b.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:Object(o.jsx)(b.a,{item:!0,xs:12,children:Object(o.jsxs)("div",{className:"App_LicenseLine",children:["Peter Verhas 2021, Apache License 2.0, ",Object(o.jsx)("a",{href:"https://github.com/verhas/jamal",children:"https://github.com/verhas/jamal"}),", "+N]})})})]})})});s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(me,{})}),document.getElementById("root"))},86:function(e){e.exports=JSON.parse('{"name":"jamal-debug-ui","version":"1.7.9-SNAPSHOT","private":true,"dependencies":{"@material-ui/core":"^4.11.3","@material-ui/data-grid":"*","@material-ui/icons":"^4.11.2","@material/tab-bar":"^11.0.0","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.3","@types/jest":"^26.0.21","@types/node":"^12.20.6","@types/react":"^17.0.3","@types/react-dom":"^17.0.2","axios":"^0.21.1","material-design-icons":"^3.0.1","qs":"^6.5.2","query-string":"^4.3.4","react":"^17.0.1","react-dom":"^17.0.1","react-scripts":"4.0.3","typescript":"^4.2.3","web-vitals":"^1.1.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')}},[[201,1,2]]]);
//# sourceMappingURL=main.6f1b5d78.chunk.js.map