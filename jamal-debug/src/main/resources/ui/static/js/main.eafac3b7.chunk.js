(this["webpackJsonpjamal-debug-ui"]=this["webpackJsonpjamal-debug-ui"]||[]).push([[0],{102:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(14),r=n.n(c),s=(n(153),n(7)),o=(n(154),n(3)),l=function(e){return e.replaceAll("\n","\xb6\n")},u=function(e){var t=e.text,n=e.macro,a=void 0===n?"":n,i=t.indexOf(a),c=i+a.length,r=l(-1===i?t:t.substr(0,i)),s=l(-1===i?"":a),u=l(-1===i?"":t.substr(c));return Object(o.jsxs)("pre",{className:"Input_SourceCode",children:[Object(o.jsx)("span",{children:r}),Object(o.jsx)("span",{className:"red",children:s}),Object(o.jsx)("span",{children:u})]})},d=(n(102),function(e){var t=e.children,n=e.caption,a=e.reference;return Object(o.jsxs)("div",{className:"SimpleTextInput_Caption",children:[n,Object(o.jsx)("textarea",{className:"SimpleTextInput_TextArea",ref:a,children:t})]})}),j=function(e){var t=e.children,n=e.caption,a=(""+t).replaceAll("\n","\xb6\n");return Object(o.jsxs)("div",{className:"SimpleTextInput_Caption",children:[n,Object(o.jsx)("textarea",{readOnly:!0,className:"SimpleTextInput_TextArea",value:a})]})},h=n(53),p=n(232),b=n(127),O=n(121),v=n.n(O),x=n(74),m=n.n(x),f=n(75),g=n.n(f),y=n(120),w=n.n(y),S=n(123),N=n.n(S),A=n(124),C=n.n(A),_=n(122),L=n.n(_),T=(n(156),function(e){var t=e.message;return Object(o.jsx)("div",{className:"Label_Label",children:t})}),D=n(231),I=n(191),k=n(117),E=n.n(k),R=n(116),F=n.n(R),B=n(114),P=n.n(B),M=n(115),J=n.n(M),q=(n(157),function(e){var t=e.message,n=Object(a.useMemo)((function(){switch(t){case"BEFORE":return Object(o.jsx)(P.a,{});case"AFTER":return Object(o.jsx)(J.a,{});case"DISCONNECTED":return Object(o.jsx)(F.a,{});case"RUN":return Object(o.jsx)(m.a,{});default:return Object(o.jsx)(g.a,{})}}),[t]);return Object(o.jsx)(D.a,{className:"TitleBar",children:Object(o.jsxs)(p.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"space-between",children:[Object(o.jsx)(p.a,{item:!0,children:Object(o.jsx)(E.a,{})}),Object(o.jsx)(p.a,{item:!0,children:Object(o.jsx)(I.a,{variant:"h6",className:"title",children:"Jamal Debug"})}),Object(o.jsx)(p.a,{item:!0,children:n})]})})}),z=n(118),H=n.n(z),U=n(42),Q=n(58),V=n(64),G=n.n(V),K=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8080;Object(U.a)(this,e),this.port=8080,this.host="localhost",this.run=function(){return n.post("/run")},this.step=function(){return n.post("/step")},this.stepInto=function(){return n.post("/stepInto")},this.stepOut=function(){return n.post("/stepOut")},this.quit=function(){return n.post("/quit")},this.execute=function(e){return n.post("/execute",e)},this.level=function(){return n.get("/level")},this.state=function(){return n.get("/state")},this.input=function(){return n.get("/input")},this.inputBefore=function(){return n.get("/inputBefore")},this.output=function(){return n.get("/output")},this.processing=function(){return n.get("/processing")},this.macros=function(){return n.get("/macros")},this.userDefinedMacros=function(){return n.get("/userDefinedMacros")},this.all=function(e){return n.get("/all?"+e)},this.host=t,this.port=a}return Object(Q.a)(e,[{key:"connection",value:function(){return"http://"+this.host+":"+this.port}},{key:"post",value:function(e,t){return G.a.post(this.connection()+e,t)}},{key:"get",value:function(e){return G.a.get(this.connection()+e)}}]),e}(),W=n(43),X=function e(){var t=this;Object(U.a)(this,e),this.url="https://raw.githubusercontent.com/verhas/jamal/master/version.jim",this.lastRelease="",G.a.get(this.url).then((function(e){var n,a=Object(W.a)((""+e.data).split("\n"));try{for(a.s();!(n=a.n()).done;){var i=n.value;0===i.search(/\{@define\sLAST_RELEASE=(.*)\}/)&&(t.lastRelease=i.substring(22,i.length-1))}}catch(c){a.e(c)}finally{a.f()}}))},Y=n(76),Z=(n(184),function(e){var t,n,a=e.data,i=[],c=0,r=0,s=Object(W.a)((null===a||void 0===a||null===(t=a.macros)||void 0===t?void 0:t.macros)||[]);try{for(s.s();!(n=s.n()).done;){var l=n.value;c++;var u,d=Object(W.a)((null===l||void 0===l?void 0:l.macros)||[]);try{for(d.s();!(u=d.n()).done;){var j=u.value;r++,i.push({id:r,level:c,name:j})}}catch(h){d.e(h)}finally{d.f()}}}catch(h){s.e(h)}finally{s.f()}return Object(o.jsx)("div",{style:{height:"310px",width:"100%",marginTop:"10px"},children:Object(o.jsx)(Y.a,{className:"BuiltInMacrosDisplay",headerHeight:33,rowHeight:33,rows:i,columns:[{field:"id",headerName:"n",width:10},{field:"level",headerName:"L",width:25},{field:"name",headerName:"macro",width:100}],density:"compact",pageSize:i.length,hideFooter:!0})})}),$=(n(185),function(e){var t,n,a=e.data,i=e.captionSetter,c=e.contentSetter,r=[],s=0,l=0,u=Object(W.a)((null===a||void 0===a||null===(t=a.userDefined)||void 0===t?void 0:t.scopes)||[]);try{for(u.s();!(n=u.n()).done;){var d=n.value;s++;var j,h=Object(W.a)(d||[]);try{for(h.s();!(j=h.n()).done;){var p=j.value;l++,r.push({id:l,level:s,name:p.id,params:p.parameters.join(","),content:p.content})}}catch(b){h.e(b)}finally{h.f()}}}catch(b){u.e(b)}finally{u.f()}return Object(o.jsx)("div",{style:{height:"310px",width:"100%",marginTop:"10px"},children:Object(o.jsx)(Y.a,{className:"UserDefinedMacrosDisplay",headerHeight:33,rowHeight:33,rows:r,columns:[{field:"id",headerName:"n",width:10},{field:"level",headerName:"Level",width:25},{field:"name",headerName:"macro",width:100},{field:"params",headerName:"params",width:100},{field:"content",headerName:"content"}],density:"compact",pageSize:r.length,hideFooter:!0,onRowSelected:function(e){var t="{@define "+e.data.name+"("+e.data.params+")="+e.data.content+"}";i("macro definition"),c(t)}})})}),ee=n(80),te=(n(186),new K("localhost",8080)),ne=H.a.parse(window.location.search.substring(1)),ae=new X,ie="";var ce=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),r=Object(s.a)(c,2),l=r[0],O=r[1],x=Object(a.useState)(""),f=Object(s.a)(x,2),y=f[0],S=f[1],A=Object(a.useState)(""),_=Object(s.a)(A,2),D=_[0],I=_[1],k=Object(a.useState)("-"),E=Object(s.a)(k,2),R=E[0],F=E[1],B=Object(a.useRef)({value:""}),P=Object(a.useState)(""),M=Object(s.a)(P,2),J=M[0],z=M[1],H=Object(a.useState)(""),U=Object(s.a)(H,2),Q=U[0],V=U[1],G=Object(a.useState)("no result"),K=Object(s.a)(G,2),W=K[0],X=K[1],Y=Object(a.useState)("unknown"),ce=Object(s.a)(Y,2),re=ce[0],se=ce[1],oe=Object(a.useState)(!0),le=Object(s.a)(oe,2),ue=le[0],de=le[1],je=ne.port?""+ne.port:new URL(window.location.href).port;te.port=+je;var he=Object(a.useCallback)((function(){te.all("level&input&output&inputBefore&processing&macros&userDefined&state&output&version").then((function(e){var t,n,a,c,r,s,o,l,u,d,j,h,p;O(null!==(t=null===(n=e.data)||void 0===n?void 0:n.inputBefore)&&void 0!==t?t:""),S(null!==(a=null===(c=e.data)||void 0===c?void 0:c.processing)&&void 0!==a?a:""),I(null!==(r=null===(s=e.data)||void 0===s?void 0:s.output)&&void 0!==r?r:""),V(null!==(o=null===(l=e.data)||void 0===l?void 0:l.state)&&void 0!==o?o:""),F(null!==(u=null===(d=e.data)||void 0===d?void 0:d.level)&&void 0!==u?u:""),se(null!==(j=null===(h=e.data)||void 0===h||null===(p=h.version)||void 0===p?void 0:p.version)&&void 0!==j?j:"unknown"),i(e.data)})).catch((function(e){var t;503===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?(V("RUN"),setTimeout(he,500)):(V("DISCONNECTED"),O(""),S(""),I(""))}))}),[]),pe=function(e){e().then((function(){return he()}))};""===ie&&(ie=ae.lastRelease),ue&&(document.title="Jamal Debugger",de(!1),he());var be,Oe=function(e){var t=21-e.length+"px";return Object(o.jsx)("div",{style:{marginLeft:t,fontSize:"8pt"},children:e})},ve=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:he,children:Object(o.jsx)(w.a,{})}),Oe("Refresh")]}),xe=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){var e;return te.execute(""+(null===B||void 0===B||null===(e=B.current)||void 0===e?void 0:e.value)).then((function(e){"object"!=typeof e.data?(0===e.data.length?(z(""),X("empty evaluation result")):(z(""+e.data),X("result")),document.title="Jamal Debugger"):(z(""+e.data.trace),X("error result"),document.title="Jamal Debugger (e)"),he()}))},color:"primary",children:Object(o.jsx)(v.a,{})}),Oe("Evaluate")]}),me=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return pe(te.quit)},color:"secondary",children:Object(o.jsx)(L.a,{})}),Oe("Quit")]}),fe=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return pe(te.run)},children:Object(o.jsx)(m.a,{})}),Oe("Run")]}),ge=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return pe(te.step)},children:Object(o.jsx)(g.a,{})}),Oe("Step")]}),ye=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return pe(te.stepInto)},children:Object(o.jsx)(N.a,{})}),Oe("Step In")]}),we=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return pe(te.stepOut)},children:Object(o.jsx)(C.a,{})}),Oe("Step Out")]}),Se=Object(o.jsx)(p.a,{container:!0,direction:"column",children:Object(o.jsxs)(p.a,{container:!0,direction:"row",justify:"space-around",alignContent:"center",children:[ve," ",fe," ",ge," ",ye,we]})}),Ne=Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(p.a,{item:!0,children:Object(o.jsx)(T,{message:""+R})})}),Ae=Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(p.a,{item:!0,xs:6,children:Se}),Object(o.jsx)(p.a,{item:!0,xs:3,children:Ne}),Object(o.jsxs)(p.a,{container:!0,direction:"row",xs:3,justify:"space-around",alignItems:"flex-end",alignContent:"flex-end",children:[xe,me]})]}),Ce=Object(o.jsx)(p.a,{item:!0,xs:3,children:Object(o.jsx)(b.a,{className:"App_Paper, App_MacroList",children:Object(o.jsx)(Z,{data:n})})}),_e=Object(o.jsx)(p.a,{item:!0,xs:3,children:Object(o.jsx)(b.a,{className:"App_Paper, App_MacroList",children:Object(o.jsx)($,{data:n,captionSetter:X,contentSetter:z})})}),Le=Object(o.jsx)(p.a,{item:!0,xs:6,children:Object(o.jsxs)(b.a,{className:"App_Paper",children:[Object(o.jsx)("div",{style:{marginLeft:"30px",fontSize:"12pt"},children:"input"}),Object(o.jsx)(u,{text:l,macro:y})]})}),Te=Object(o.jsx)(p.a,{item:!0,xs:6,children:Object(o.jsxs)(b.a,{className:"App_Paper",children:[Object(o.jsx)("div",{style:{marginLeft:"30px",fontSize:"12pt"},children:"output"}),Object(o.jsx)(u,{text:D})]})}),De=Object(o.jsx)(p.a,{item:!0,xs:3,children:Object(o.jsx)(b.a,{className:"App_Paper, App_Eval",children:Object(o.jsx)(d,{caption:"evaluate",reference:B,children:""})})}),Ie=Object(o.jsx)(p.a,{item:!0,xs:3,children:Object(o.jsx)(b.a,{className:"App_Paper, App_Eval",children:Object(o.jsx)(j,{caption:W,children:J})})});return be=re===ee.version?"Version: "+re:"Server version: "+re+", Client version: "+ee.version,""==ie||ie==re&&ie==ee.version||(be+=", Latest release: "+ie),Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)("header",{className:"App-header",children:[Object(o.jsx)(p.a,{container:!0,direction:"row",children:Object(o.jsx)(q,{message:Q})}),Object(o.jsx)(p.a,{container:!0,direction:"row",children:Ae}),Object(o.jsxs)(p.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:[Le,Ce,De]}),Object(o.jsxs)(p.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:[Te,_e,Ie]}),Object(o.jsx)(p.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:Object(o.jsx)(p.a,{item:!0,xs:12,children:Object(o.jsxs)("div",{className:"App_LicenseLine",children:["v1.0.0, Apache License 2.0, ",Object(o.jsx)("a",{href:"https://github.com/verhas/jamal",children:"https://github.com/verhas/jamal"}),", "+be]})})})]})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,236)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(ce,{})}),document.getElementById("root")),re()},80:function(e){e.exports=JSON.parse('{"name":"jamal-debug-ui","version":"1.7.3-SNAPSHOT","private":true,"dependencies":{"@material-ui/core":"^4.11.3","@material-ui/data-grid":"*","@material-ui/icons":"^4.11.2","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.3","@types/jest":"^26.0.21","@types/node":"^12.20.6","@types/react":"^17.0.3","@types/react-dom":"^17.0.2","axios":"^0.21.1","material-design-icons":"^3.0.1","qs":"^6.5.2","query-string":"^4.3.4","react":"^17.0.1","react-dom":"^17.0.1","react-scripts":"4.0.3","typescript":"^4.2.3","web-vitals":"^1.1.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')}},[[187,1,2]]]);
//# sourceMappingURL=main.eafac3b7.chunk.js.map