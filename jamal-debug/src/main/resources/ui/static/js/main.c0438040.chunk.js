(this["webpackJsonpjamal-debug-ui"]=this["webpackJsonpjamal-debug-ui"]||[]).push([[0],{101:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(14),r=n.n(i),s=(n(152),n(7)),o=(n(153),n(3)),l=function(e){return e.replaceAll("\n","\xb6\n")},u=function(e){var t=e.text,n=e.macro,a=void 0===n?"":n,c=t.indexOf(a),i=c+a.length,r=l(-1===c?t:t.substr(0,c)),s=l(-1===c?"":a),u=l(-1===c?"":t.substr(i));return Object(o.jsxs)("pre",{className:"Input_SourceCode",children:[Object(o.jsx)("span",{children:r}),Object(o.jsx)("span",{className:"red",children:s}),Object(o.jsx)("span",{children:u})]})},d=(n(101),function(e){var t=e.children,n=e.caption,a=e.reference;return Object(o.jsxs)("div",{className:"SimpleTextInput_Caption",children:[n,Object(o.jsx)("textarea",{className:"SimpleTextInput_TextArea",ref:a,children:t})]})}),j=function(e){var t=e.children,n=e.caption,a=(""+t).replaceAll("\n","\xb6\n");return Object(o.jsxs)("div",{className:"SimpleTextInput_Caption",children:[n,Object(o.jsx)("textarea",{readOnly:!0,className:"SimpleTextInput_TextArea",value:a})]})},h=n(51),p=n(231),b=n(126),O=n(120),x=n.n(O),f=n(73),v=n.n(f),m=n(74),g=n.n(m),w=n(119),y=n.n(w),N=n(122),S=n.n(N),C=n(123),A=n.n(C),_=n(121),D=n.n(_),I=(n(155),function(e){var t=e.message;return Object(o.jsx)("div",{className:"Label_Label",children:Object(o.jsx)("span",{children:t})})}),L=n(230),k=n(190),T=n(116),E=n.n(T),F=n(115),B=n.n(F),R=n(113),M=n.n(R),P=n(114),J=n.n(P),z=(n(156),function(e){var t=e.message,n=Object(a.useMemo)((function(){switch(t){case"BEFORE":return Object(o.jsx)(M.a,{});case"AFTER":return Object(o.jsx)(J.a,{});case"DISCONNECTED":return Object(o.jsx)(B.a,{});case"RUN":return Object(o.jsx)(v.a,{});default:return Object(o.jsx)(g.a,{})}}),[t]);return Object(o.jsx)(L.a,{className:"TitleBar",children:Object(o.jsxs)(p.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"space-between",children:[Object(o.jsx)(p.a,{item:!0,children:Object(o.jsx)(E.a,{})}),Object(o.jsx)(p.a,{item:!0,children:Object(o.jsx)(k.a,{variant:"h6",className:"title",children:"Jamal Debug"})}),Object(o.jsx)(p.a,{item:!0,children:n})]})})}),H=n(117),U=n.n(H),q=n(56),Q=n(57),G=n(83),K=n.n(G),V=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8080;Object(q.a)(this,e),this.port=8080,this.host="localhost",this.run=function(){return n.post("/run")},this.step=function(){return n.post("/step")},this.stepInto=function(){return n.post("/stepInto")},this.stepOut=function(){return n.post("/stepOut")},this.quit=function(){return n.post("/quit")},this.execute=function(e){return n.post("/execute",e)},this.level=function(){return n.get("/level")},this.state=function(){return n.get("/state")},this.input=function(){return n.get("/input")},this.inputBefore=function(){return n.get("/inputBefore")},this.output=function(){return n.get("/output")},this.processing=function(){return n.get("/processing")},this.macros=function(){return n.get("/macros")},this.userDefinedMacros=function(){return n.get("/userDefinedMacros")},this.all=function(e){return n.get("/all?"+e)},this.host=t,this.port=a}return Object(Q.a)(e,[{key:"connection",value:function(){return"http://"+this.host+":"+this.port}},{key:"post",value:function(e,t){return K.a.post(this.connection()+e,t)}},{key:"get",value:function(e){return K.a.get(this.connection()+e)}}]),e}(),W=n(58),X=n(75),Y=(n(183),function(e){var t,n,a=e.data,c=[],i=0,r=0,s=Object(W.a)((null===a||void 0===a||null===(t=a.macros)||void 0===t?void 0:t.macros)||[]);try{for(s.s();!(n=s.n()).done;){var l=n.value;i++;var u,d=Object(W.a)((null===l||void 0===l?void 0:l.macros)||[]);try{for(d.s();!(u=d.n()).done;){var j=u.value;r++,c.push({id:r,level:i,name:j})}}catch(h){d.e(h)}finally{d.f()}}}catch(h){s.e(h)}finally{s.f()}return Object(o.jsx)("div",{style:{height:"310px",width:"100%",marginTop:"10px"},children:Object(o.jsx)(X.a,{className:"BuiltInMacrosDisplay",headerHeight:33,rowHeight:33,rows:c,columns:[{field:"id",headerName:"n",width:10},{field:"level",headerName:"L",width:25},{field:"name",headerName:"macro",width:100}],density:"compact",pageSize:c.length,hideFooter:!0})})}),Z=(n(184),function(e){var t,n,a=e.data,c=e.captionSetter,i=e.contentSetter,r=[],s=0,l=0,u=Object(W.a)((null===a||void 0===a||null===(t=a.userDefined)||void 0===t?void 0:t.scopes)||[]);try{for(u.s();!(n=u.n()).done;){var d=n.value;s++;var j,h=Object(W.a)(d||[]);try{for(h.s();!(j=h.n()).done;){var p=j.value;l++,r.push({id:l,level:s,name:p.id,params:p.parameters.join(","),content:p.content})}}catch(b){h.e(b)}finally{h.f()}}}catch(b){u.e(b)}finally{u.f()}return Object(o.jsx)("div",{style:{height:"310px",width:"100%",marginTop:"10px"},children:Object(o.jsx)(X.a,{className:"UserDefinedMacrosDisplay",headerHeight:33,rowHeight:33,rows:r,columns:[{field:"id",headerName:"n",width:10},{field:"level",headerName:"Level",width:25},{field:"name",headerName:"macro",width:100},{field:"params",headerName:"params",width:100},{field:"content",headerName:"content"}],density:"compact",pageSize:r.length,hideFooter:!0,onRowSelected:function(e){var t="{@define "+e.data.name+"("+e.data.params+")="+e.data.content+"}";c("macro definition"),i(t)}})})}),$=(n(185),new V("localhost",8080)),ee=U.a.parse(window.location.search.substring(1));var te=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),r=Object(s.a)(i,2),l=r[0],O=r[1],f=Object(a.useState)(""),m=Object(s.a)(f,2),w=m[0],N=m[1],C=Object(a.useState)(""),_=Object(s.a)(C,2),L=_[0],k=_[1],T=Object(a.useState)("-"),E=Object(s.a)(T,2),F=E[0],B=E[1],R=Object(a.useRef)({value:""}),M=Object(a.useState)(""),P=Object(s.a)(M,2),J=P[0],H=P[1],U=Object(a.useState)(""),q=Object(s.a)(U,2),Q=q[0],G=q[1],K=Object(a.useState)("no result"),V=Object(s.a)(K,2),W=V[0],X=V[1],te=Object(a.useState)("unknown"),ne=Object(s.a)(te,2),ae=ne[0],ce=ne[1],ie=Object(a.useState)(!0),re=Object(s.a)(ie,2),se=re[0],oe=re[1],le=ee.port?""+ee.port:new URL(window.location.href).port;$.port=+le;var ue=Object(a.useCallback)((function(){$.all("level&input&output&inputBefore&processing&macros&userDefined&state&output&version").then((function(e){var t,n,a,i,r,s,o,l,u,d,j,h,p;O(null!==(t=null===(n=e.data)||void 0===n?void 0:n.inputBefore)&&void 0!==t?t:""),N(null!==(a=null===(i=e.data)||void 0===i?void 0:i.processing)&&void 0!==a?a:""),k(null!==(r=null===(s=e.data)||void 0===s?void 0:s.output)&&void 0!==r?r:""),G(null!==(o=null===(l=e.data)||void 0===l?void 0:l.state)&&void 0!==o?o:""),B(null!==(u=null===(d=e.data)||void 0===d?void 0:d.level)&&void 0!==u?u:""),ce(null!==(j=null===(h=e.data)||void 0===h||null===(p=h.version)||void 0===p?void 0:p.version)&&void 0!==j?j:"unknown"),c(e.data)})).catch((function(e){var t;503===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?(G("RUN"),setTimeout(ue,500)):(G("DISCONNECTED"),O(""),N(""),k(""))}))}),[]),de=function(e){e().then((function(){return ue()}))};se&&(document.title="Jamal Debugger",oe(!1),ue());var je=function(e){var t=21-e.length+"px";return Object(o.jsx)("div",{style:{marginLeft:t,fontSize:"8pt"},children:e})},he=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:ue,children:Object(o.jsx)(y.a,{})}),je("Refresh")]}),pe=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){var e;return $.execute(""+(null===R||void 0===R||null===(e=R.current)||void 0===e?void 0:e.value)).then((function(e){"object"!=typeof e.data?(0===e.data.length?(H(""),X("empty evaluation result")):(H(""+e.data),X("result")),document.title="Jamal Debugger"):(H(""+e.data.trace),X("error result"),document.title="Jamal Debugger (e)"),ue()}))},color:"primary",children:Object(o.jsx)(x.a,{})}),je("Evaluate")]}),be=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return de($.quit)},color:"secondary",children:Object(o.jsx)(D.a,{})}),je("Quit")]}),Oe=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return de($.run)},children:Object(o.jsx)(v.a,{})}),je("Run")]}),xe=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return de($.step)},children:Object(o.jsx)(g.a,{})}),je("Step")]}),fe=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return de($.stepInto)},children:Object(o.jsx)(S.a,{})}),je("Step In")]}),ve=Object(o.jsxs)(p.a,{item:!0,children:[Object(o.jsx)(h.a,{variant:"contained",onClick:function(){return de($.stepOut)},children:Object(o.jsx)(A.a,{})}),je("Step Out")]}),me=Object(o.jsx)(p.a,{container:!0,direction:"column",children:Object(o.jsxs)(p.a,{container:!0,direction:"row",justify:"space-around",alignContent:"center",children:[he," ",Oe," ",xe," ",fe,ve]})}),ge=Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(p.a,{item:!0,children:Object(o.jsx)(I,{message:"Level: "+F})})}),we=Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(p.a,{item:!0,xs:6,children:me}),Object(o.jsx)(p.a,{item:!0,xs:3,children:ge}),Object(o.jsxs)(p.a,{container:!0,direction:"row",xs:3,justify:"space-around",alignItems:"flex-end",alignContent:"flex-end",children:[pe,be]})]}),ye=Object(o.jsx)(p.a,{item:!0,xs:3,children:Object(o.jsx)(b.a,{className:"App_Paper, App_MacroList",children:Object(o.jsx)(Y,{data:n})})}),Ne=Object(o.jsx)(p.a,{item:!0,xs:3,children:Object(o.jsx)(b.a,{className:"App_Paper, App_MacroList",children:Object(o.jsx)(Z,{data:n,captionSetter:X,contentSetter:H})})}),Se=Object(o.jsx)(p.a,{item:!0,xs:6,children:Object(o.jsxs)(b.a,{className:"App_Paper",children:[Object(o.jsx)("div",{style:{marginLeft:"30px",fontSize:"12pt"},children:"input"}),Object(o.jsx)(u,{text:l,macro:w})]})}),Ce=Object(o.jsx)(p.a,{item:!0,xs:6,children:Object(o.jsxs)(b.a,{className:"App_Paper",children:[Object(o.jsx)("div",{style:{marginLeft:"30px",fontSize:"12pt"},children:"output"}),Object(o.jsx)(u,{text:L})]})}),Ae=Object(o.jsx)(p.a,{item:!0,xs:3,children:Object(o.jsx)(b.a,{className:"App_Paper, App_Eval",children:Object(o.jsx)(d,{caption:"evaluate",reference:R,children:""})})}),_e=Object(o.jsx)(p.a,{item:!0,xs:3,children:Object(o.jsx)(b.a,{className:"App_Paper, App_Eval",children:Object(o.jsx)(j,{caption:W,children:J})})});return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)("header",{className:"App-header",children:[Object(o.jsx)(p.a,{container:!0,direction:"row",children:Object(o.jsx)(z,{message:Q})}),Object(o.jsx)(p.a,{container:!0,direction:"row",children:we}),Object(o.jsxs)(p.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:[Se,ye,Ae]}),Object(o.jsxs)(p.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:[Ce,Ne,_e]}),Object(o.jsx)(p.a,{container:!0,direction:"row",spacing:2,style:{width:"100%"},justify:"space-around",children:Object(o.jsx)(p.a,{item:!0,xs:12,children:Object(o.jsxs)("div",{className:"App_LicenseLine",children:["v1.0.0, Apache License 2.0, ",Object(o.jsx)("a",{href:"https://github.com/verhas/jamal",children:"https://github.com/verhas/jamal"}),", Server version: "+ae]})})})]})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,235)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(te,{})}),document.getElementById("root")),ne()}},[[186,1,2]]]);
//# sourceMappingURL=main.c0438040.chunk.js.map