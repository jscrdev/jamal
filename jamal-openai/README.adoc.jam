== Jamal OpenAI module

With the OpenAI module you can include text generated by the OpenAI API into your Jamal documents.
That way you can ask OpenAI to complete your text, answer questions and so on.

* The question can be edited with the cache files, and then a sealed request will never ask the server again.
For example asking the prompt below __"Descartes said"__ will result in the following text:
{%@snip:xml pom=pom.xml%}\
{%#define VERSION={%pom /project/version/text()%}%}\
{%#maven:load com.javax0.jamal:jamal-openai:{%VERSION%}%}\
{%@import src/main/resources/openai.jim%}\
{%openai:model babbage%}\
{%@options openai:local openai:fallible openai:asynch%}\
{%seed 104767%}\
{%#json:define descartes_said={%openai:completion |
                                "prompt": "Short Summary of EPAM's 2018Q4 Earnings Call:",
                                "max_tokens": 100,
                                "temperature": 0.2
                            %}\
%}\

====
{%@json:get descartes_said/choices/0/text | descartes_said %}
====

{%openai:model gpt-3.5-turbo%}
{%openai:hash|%}

* How are you....sd.......nssden........vg..?

* __{%#json:define chat_response={%openai:chat |
"messages": [{"role":"user","content":"how are you"}],
"temperature": 0.2
%}%}{%@json:get chat_response/choices/0/message/content|chat_response%}__

* Do some editing on the text

{%openai:model text-davinci-edit-001%}\
{%@define INPUT=He was not able to finish the task that that she gave her the day before yesterday%}
{%@define INSTRUCTION=rewrite the sentence to gender-neutral also fixing errors, removing repetitions and making it more concise%}
** input: {%INPUT%}
** instruction: {%INSTRUCTION%}
** response: __{%#json:define edit_response={%openai:edits |
"input": "{%INPUT%}",
"instruction" : "{%INSTRUCTION%}",
"temperature": 0.2
%}%}{%@json:get edit_response/choices/0/text|edit_response%}__

{%@define IMAGE_PROMPT=paint a cute otter opening a shell or an egg%}
* create an image {%IMAGE_PROMPT%}

{%#json:define edit_response={%openai:images:generations |
"n" : 1,
"response_format" : "url",
"prompt": "{%IMAGE_PROMPT%}"
%}%}image::{%@json:get edit_response/data/0/url|edit_response%}[width=512px]







